/**
             * ngx-ourpalm-table - 基于angular2.x、bootstrap的表格控件，支持编程式和声明式列配置
             * @version v0.2.7
             * @author undefined
             * @link https://github.com/lishichao1002/ngx-ourpalm-table#readme
             * @license MIT
             */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/common","@angular/forms","@angular/platform-browser"],t):"object"==typeof exports?exports["ngx-ourpalm-table"]=t(require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@angular/platform-browser")):e["ngx-ourpalm-table"]=t(e.ng.core,e.ng.common,e.ng.forms,e.ng.platformBrowser)}(this,function(e,t,n,o){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=23)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r=function(){function e(e){this.__columns=[],this.tableClass="table table-bordered table-striped table-hover text-center",this.autoLoadData=!0,this.columns=[],this.pagination=!0,this.singleSelect=!1,this.serverSort=!0,this.pageList=[10,20,30,40,50],this.skipPage=!0,this.cacheKey="",this.cachePageSize=!1,this.cacheColumns=!1,this.pagePosition="bottom",this.showRefreshBtn=!0,this.showSettingBtn=!0,this.enabledFloatThead=!1,this.floatTheadConfig={zIndex:10,responsiveContainer:function(e){return e.closest(".table-responsive")}},this.checkOnSelect=!0,this.selectOnCheck=!0,this.ctrlSelect=!1,this.loadData=function(){return null},this.trackByFun=function(e,t){return e},this.openSettings=!1,this.total=0,this.rows=[],this.currentPage=1,this.pageSize=10,Object.assign(this,e),this.columns=this.columns.map(function(e){return new o.OurpalmTableColumn(e)}),this.__columns=this.columns.map(function(e){return new o.OurpalmTableColumn(e)}),this.reloadCacheColumns(),this.reloadCachePageSize(),this.reflowTable()}return e.prototype.reflowTable=function(){this.tableComponent&&this.tableComponent.reflowTable()},e.prototype.onLoadSuccess=function(e){var t={currentPage:e.currentPage,pageSize:e.pageSize,total:e.total,rows:(e.rows||[]).slice()};this.pageSize=t.pageSize||this.pageSize,this.total=t.total,this.rows=t.rows,this.currentPage=t.currentPage||this.currentPage,this.tmpCurrentPage=this.allPage>0?t.currentPage||this.currentPage:0,this.reflowTable()},Object.defineProperty(e.prototype,"allPage",{get:function(){return Math.max(Math.ceil(this.total/this.pageSize),0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.allPage>0?(this.currentPage-1)*this.pageSize+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.allPage>0?this.start+this.rows.length-1:0},enumerable:!0,configurable:!0}),e.prototype.getDisplayedColumns=function(){var e=[];return this.columns.forEach(function(t){t.show&&e.push(Object.assign({},t))}),e},e.prototype.getDisplayedRows=function(){return this.rows.map(function(e){return Object.assign({},e)})},e.prototype.getSelectedRows=function(){return this.rows.filter(function(e){return e.__selected__}).map(function(e){return Object.assign({},e)})},e.prototype.getCheckedRows=function(){return this.rows.filter(function(e){return e.__checked__}).map(function(e){return Object.assign({},e)})},e.prototype.getSortColumns=function(){return this.columns.filter(function(e){return e.sort}).map(function(e){return Object.assign({},e)})},e.prototype.getOptions=function(){return{currentPage:this.currentPage,pageSize:this.pageSize,pagination:this.pagination,singleSelect:this.singleSelect,serverSort:this.serverSort,pageList:[].concat(this.pageList),skipPage:this.skipPage,cacheKey:this.cacheKey,cachePageSize:this.cachePageSize,cacheColumns:this.cacheColumns,pagePosition:this.pagePosition}},e.prototype.changeColumns=function(e){this.columns=e.map(function(e){return new o.OurpalmTableColumn(e)}),this.__columns=e.map(function(e){return new o.OurpalmTableColumn(e)}),this.reloadCacheColumns(),this.reloadCachePageSize(),this.reflowTable()},e.prototype.firstPage=function(){this.currentPage=1,this.invokeLoadData()},e.prototype.prePage=function(){this.currentPage--,this.invokeLoadData()},e.prototype.nextPage=function(){this.currentPage++,this.invokeLoadData()},e.prototype.lastPage=function(){this.currentPage=this.allPage,this.invokeLoadData()},e.prototype.refresh=function(){this.invokeLoadData()},e.prototype.changePageSize=function(e){this.currentPage=1,this.pageSize=e,this.invokeLoadData()},e.prototype.gotoSkipPage=function(e){this.currentPage=e,this.invokeLoadData()},e.prototype.setPageData=function(e){this.onLoadSuccess(e)},e.prototype.setOptions=function(e){Object.assign(this,e),this.columns=this.columns.map(function(e){return new o.OurpalmTableColumn(e)}),this.__columns=this.columns.map(function(e){return new o.OurpalmTableColumn(e)}),this.autoLoadData&&this.invokeLoadData(),this.reloadCacheColumns(),this.reloadCachePageSize(),this.reflowTable()},e.prototype.checkAll=function(){this.rows.forEach(function(e){e.__checked__=!0})},e.prototype.uncheckAll=function(){this.rows.forEach(function(e){e.__checked__=!1})},e.prototype.checkRow=function(e){var t=this.rows[e];t&&(t.__checked__=!0)},e.prototype.uncheckRow=function(e){var t=this.rows[e];t&&(t.__checked__=!1)},e.prototype.openSetting=function(){this.openSettings=!0},e.prototype.invokeLoadData=function(){this.loadData(this,this.onLoadSuccess.bind(this))},e.prototype.setTableComponent=function(e){this.tableComponent=e},e.prototype.reloadCacheColumns=function(){var e=this;if(this.cacheKey&&this.cacheColumns&&window.localStorage){var t=window.localStorage.getItem("ngx-ourpalm-table-"+this.cacheKey+"-columns");if(t){var n=JSON.parse(t);if(n.length==this.columns.length){var o=[];n.forEach(function(t){e.columns.forEach(function(e){t.field==e.field&&o.push(Object.assign(e,t))})}),this.columns.splice(0),o.forEach(function(t){e.columns.push(t)})}else window.localStorage.removeItem("ngx-ourpalm-table-"+this.cacheKey+"-columns")}}},e.prototype.reloadCachePageSize=function(){if(this.cacheKey&&this.cachePageSize&&window.localStorage){var e=window.localStorage.getItem("ngx-ourpalm-table-"+this.cacheKey+"-pagesize");e&&(this.pageSize=+e)}},e}();t.OurpalmTable=r},function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=o(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}function o(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o=n(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";function o(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function r(){for(var e=[],t=0;t<4;t++)e.push(o());return e.join("-")}Object.defineProperty(t,"__esModule",{value:!0}),t.uuid=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=n(1),c=n(12),s=function(){function e(e){this.zone=e,this.dynamicColumn=!1}return e.prototype.ngAfterViewInit=function(){var e=this;this.table&&this.table.setTableComponent(this),this.table.enabledFloatThead&&this.zone.runOutsideAngular(function(){e.$table=$(e.el.nativeElement),e.$table.floatThead(o({},e.table.floatTheadConfig))})},e.prototype.reflowTable=function(){this.table.enabledFloatThead&&this.$table.floatThead("reflow")},e.prototype.ngOnDestroy=function(){this.table.enabledFloatThead&&this.$table.floatThead("destroy")},e.prototype.ngAfterContentInit=function(){if(this.columnDirs.toArray().length>0){this.dynamicColumn=!1;var e=this.columnDirs.toArray().map(function(e){return Object.assign(e.column,{template:e.template})});this.table.__columns=this.table.columns.map(function(e){return Object.assign({},e)}),this.table.changeColumns(e)}else this.dynamicColumn=!0;this.table.autoLoadData&&this.table.invokeLoadData()},e}();r([a.ViewChild("el"),i("design:type",a.ElementRef)],s.prototype,"el",void 0),r([a.Input(),i("design:type",l.OurpalmTable)],s.prototype,"table",void 0),r([a.ContentChildren(c.OurpalmTableStaticColumnComponent),i("design:type",a.QueryList)],s.prototype,"columnDirs",void 0),s=r([a.Component({selector:"ourpalm-table",styles:[n(48)],changeDetection:a.ChangeDetectionStrategy.Default,template:'\n        <table #el [ngClass]="table.tableClass">\n            <thead>\n                <ng-container *ngIf="table.pagination && table.pagePosition != \'bottom\' ">\n                    <tr class="ourpalm-table-pageing" ourpalm-table-paging [table]="table"></tr>\n                </ng-container>\n                <tr ourpalm-table-header [table]="table" [columns]="table.columns"></tr>\n            </thead>\n            <tbody ourpalm-table-rows [table]="table" [rows]="table.rows" [dynamicColumn]="dynamicColumn"\n                   [columns]="table.columns">\n            </tbody>\n            <tfoot>\n                <ng-container *ngIf="table.pagination && table.pagePosition != \'top\' ">\n                    <tr class="ourpalm-table-pageing" ourpalm-table-paging [table]="table" [tableComponent]="this"></tr>\n                </ng-container>\n            </tfoot>\n        </table>\n    '}),i("design:paramtypes",[a.NgZone])],s),t.OurpalmTableComponent=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=function(){function e(e){this.header="",this.field="",this.sort=!1,this.sortOrder=null,this.rownumbers=!1,this.show=!0,this.checkbox=!1,this.disabledContextMenu=!1,this.formatter=function(e,t){return e},this.sorter=function(e,t,n){return t[e.field]-n[e.field]},this.__uuid__=o.uuid(),Object.assign(this,e)}return e}();t.OurpalmTableColumn=r},function(e,t,n){"use strict";var o=n(37);t.dragula=o.default||o},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=n(7),i=n(0),a=function(){function e(){this.cancel=new i.EventEmitter,this.cloned=new i.EventEmitter,this.drag=new i.EventEmitter,this.dragend=new i.EventEmitter,this.drop=new i.EventEmitter,this.out=new i.EventEmitter,this.over=new i.EventEmitter,this.remove=new i.EventEmitter,this.shadow=new i.EventEmitter,this.dropModel=new i.EventEmitter,this.removeModel=new i.EventEmitter,this.events=["cancel","cloned","drag","dragend","drop","out","over","remove","shadow","dropModel","removeModel"],this.bags=[]}return e.prototype.add=function(e,t){var n=this.find(e);if(n)throw new Error('Bag named: "'+e+'" already exists.');return n={name:e,drake:t},this.bags.push(n),t.models&&this.handleModels(e,t),n.initEvents||this.setupEvents(n),n},e.prototype.find=function(e){for(var t=0,n=this.bags;t<n.length;t++){var o=n[t];if(o.name===e)return o}},e.prototype.destroy=function(e){var t=this.find(e),n=this.bags.indexOf(t);this.bags.splice(n,1),t.drake.destroy()},e.prototype.setOptions=function(e,t){var n=this.add(e,r.dragula(t));this.handleModels(e,n.drake)},e.prototype.handleModels=function(e,t){var n,o,r,i,a=this;t.on("remove",function(n,r){t.models&&(i=t.models[t.containers.indexOf(r)],i.splice(o,1),a.removeModel.emit([e,n,r]))}),t.on("drag",function(e,t){n=e,o=a.domIndexOf(e,t)}),t.on("drop",function(l,c,s){if(t.models&&c){if(r=a.domIndexOf(l,c),i=t.models[t.containers.indexOf(s)],c===s)i.splice(r,0,i.splice(o,1)[0]);else{var u=n===l,p=t.models[t.containers.indexOf(c)],f=u?i[o]:JSON.parse(JSON.stringify(i[o]));u&&i.splice(o,1),p.splice(r,0,f),c.removeChild(l)}a.dropModel.emit([e,l,c,s])}})},e.prototype.setupEvents=function(e){e.initEvents=!0;var t=this,n=function(n){function o(){var o=Array.prototype.slice.call(arguments);t[n].emit([e.name].concat(o))}e.drake.on(n,o)};this.events.forEach(n)},e.prototype.domIndexOf=function(e,t){return Array.prototype.indexOf.call(t.children,e)},e}();a=o([i.Injectable()],a),t.DragulaService=a},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),a=n(0),l=function(){function e(e){this.sanitized=e}return e.prototype.transform=function(e){return this.sanitized.bypassSecurityTrustHtml(e)},e}();l=o([a.Pipe({name:"safeHtml"}),r("design:paramtypes",[i.DomSanitizer])],l),t.SafeHtmlPipe=l},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),a=function(){function e(){}return e.prototype.create=function(e){return new i.OurpalmTable(Object.assign({},this.config,e))},e}();a=o([r.Injectable()],a),t.TableConfig=a},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(1),l=n(13),c=n(3),s=function(){function e(e,t,n,o){this.el=e,this.componentFactoryResolver=t,this.appRef=n,this.injector=o}return e.prototype.ngOnInit=function(){this.table.rowMenus&&this.table.rowMenus.length>0&&this.appendRowContextMenuComponentToBody()},e.prototype.ngOnDestroy=function(){this.contextMenuRef&&(this.appRef.detachView(this.contextMenuRef.hostView),this.contextMenuRef.destroy())},e.prototype.appendRowContextMenuComponentToBody=function(){this.contextMenuRef=this.componentFactoryResolver.resolveComponentFactory(l.RowContextMenuComponent).create(this.injector),this.appRef.attachView(this.contextMenuRef.hostView);var e=this.contextMenuRef.hostView.rootNodes[0];document.body.appendChild(e),this.contextMenu=this.contextMenuRef.instance,this.contextMenu.rowComponent=this,this.contextMenu.menus=this.table.rowMenus,this.contextMenu.changeDetectorRef.detectChanges()},e.prototype.getStyler=function(e,t,n,o){return"function"==typeof e.styler?e.styler(t,n,o):e.styler},e.prototype.onClickRow=function(e,t,n){this.table.onClickRow&&this.table.onClickRow(e,t),this.table.singleSelect||!this.table.singleSelect&&this.table.ctrlSelect&&!n.ctrlKey?this.table.rows.forEach(function(e){e!==t?e.__selected__&&(e.__uuid__=c.uuid(),e.__selected__=!1):(e.__selected__=!e.__selected__,e.__uuid__=c.uuid())}):(t.__selected__=!t.__selected__,t.__uuid__=c.uuid()),this.table.selectOnCheck&&this.table.rows.forEach(function(e){e.__checked__!=e.__selected__&&(e.__checked__=!!e.__selected__,e.__uuid__=c.uuid())})},e.prototype.showContextMenu=function(e,t,n,o,r){if(!r.disabledContextMenu){e.preventDefault(),o.__selected__||this.onClickRow(t,o,e);this.table.rowMenus.filter(function(e){return!e.separator}).filter(function(e){return console.log(e.text,"function"==typeof e.show?e.show():e.show),"function"==typeof e.show?e.show():e.show}).length>0?(this.contextMenu.styler={display:"block",position:"absolute",left:e.pageX+"px",top:e.pageY+"px"},this.contextMenu.changeDetectorRef.markForCheck()):this.contextMenu.styler&&"none"!=this.contextMenu.styler.display&&(this.contextMenu.styler={display:"none"},this.contextMenu.changeDetectorRef.markForCheck())}},e}();o([i.Input(),r("design:type",Array)],s.prototype,"rows",void 0),o([i.Input(),r("design:type",Array)],s.prototype,"columns",void 0),o([i.Input(),r("design:type",a.OurpalmTable)],s.prototype,"table",void 0),o([i.Input(),r("design:type",Boolean)],s.prototype,"dynamicColumn",void 0),s=o([i.Component({selector:"[ourpalm-table-rows]",changeDetection:i.ChangeDetectionStrategy.OnPush,styles:[n(46)],template:'\n        <ng-container [ngSwitch]="dynamicColumn">\n            <ng-container *ngSwitchCase="true">\n                \x3c!--动态列--\x3e\n                <tr *simpleNgFor="let row of rows; let i = index;"\n                    [ngClass]="{\'row-selected\': row.__selected__}"\n                    (click)="onClickRow(i, row, $event)"\n\n                    dynamic-event-directive\n                    [listenDbClickEvent]="table.onDbClickRow"\n                    (onDbClick)="table.onDbClickRow(i, row)">\n                    \x3c!--[listenClickEvent]="table.onClickRow"--\x3e\n                    \x3c!--(onClick)="table.onClickRow(i, row)"--\x3e\n                    <ng-container *simpleNgFor="let column of table.columns; let j = index">\n                        <td ourpalm-table-dynamic-column\n                            [table]="table"\n                            [row]="row"\n                            [column]="column"\n                            [index]="i"\n                            [class.hidden]="!column.show"\n                            [ngStyle]="getStyler(column, i, j, row)"\n                            [listenClickEvent]="table.onClickCell"\n                            (onClick)="table.onClickCell(i, j, row, column)"\n                            dynamic-event-directive\n                            [listenDbClickEvent]="table.onDbClickCell"\n                            (onDbClick)="table.onDbClickCell(i, j, row, column)"\n                            [listenContextMenuEvent]="!!table.rowMenus"\n                            (onContextMenu)="showContextMenu($event, i, j, row, column)">\n                        </td>\n                    </ng-container>\n                </tr>\n            </ng-container>\n            <ng-container *ngSwitchCase="false">\n                \x3c!--静态列--\x3e\n                <tr *simpleNgFor="let row of rows; let i = index;"\n                    [ngClass]="{\'row-selected\': row.__selected__}"\n                    (click)="onClickRow(i, row, $event)"\n\n                    dynamic-event-directive\n                    [listenDbClickEvent]="table.onDbClickRow"\n                    (onDbClick)="table.onDbClickRow(i, row)">\n                    \x3c!--[listenClickEvent]="table.onClickRow"--\x3e\n                    \x3c!--(onClick)="table.onClickRow(i, row)"--\x3e\n                    <td *simpleNgFor="let col of table.columns; let j = index"\n                        [class.hidden]="!col.show"\n                        [ngStyle]="getStyler(col, i, j, row)"\n                        dynamic-event-directive\n                        [listenClickEvent]="table.onClickCell"\n                        (onClick)="table.onClickCell(i, j, row, col)"\n                        [listenDbClickEvent]="table.onDbClickCell"\n                        (onDbClick)="table.onDbClickCell(i, j, row, col)"\n                        [listenContextMenuEvent]="!!table.rowMenus"\n                        (onContextMenu)="showContextMenu($event, i, j, row, col)">\n                        <ourpalm-table-columnTemplateRenderer [table]="table"\n                                                              [column]="col"\n                                                              [row]="row"\n                                                              [index]="i">\n                        </ourpalm-table-columnTemplateRenderer>\n                    </td>\n                </tr>\n            </ng-container>\n            \x3c!--<row-context-menu [menus]="table.rowMenus" [rowComponent]="this"></row-context-menu>--\x3e\n        </ng-container>\n    '}),r("design:paramtypes",[i.ElementRef,i.ComponentFactoryResolver,i.ApplicationRef,i.Injector])],s),t.OurpalmTableRowComponent=s},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(6),l=n(1),c=n(3),s=function(){function e(){}return e.prototype.ngOnInit=function(){this.column=new a.OurpalmTableColumn(this.column)},e}();o([i.Input(),r("design:type",a.OurpalmTableColumn)],s.prototype,"column",void 0),o([i.ContentChild(i.TemplateRef),r("design:type",i.TemplateRef)],s.prototype,"template",void 0),s=o([i.Component({selector:"ourpalm-table-column",template:" "})],s),t.OurpalmTableStaticColumnComponent=s;var u=function(){function e(e){this.changeDetectorRef=e}return e.prototype.onClickCheckBox=function(e){e.stopPropagation()},e.prototype.onCheckBoxChange=function(e){e.stopPropagation(),this.row.__checked__&&this.table.singleSelect&&(this.table.rows.forEach(function(e){return e.__checked__=!1}),this.row.__checked__=!0),this.table.checkOnSelect&&(this.row.__selected__=!!this.row.__checked__),this.table.onRowCheckBoxChange&&this.table.onRowCheckBoxChange(this.row,this.index)},e.prototype.ngOnChanges=function(){"object"==typeof this.row&&(this.row.__uuid__||(this.row.__uuid__=c.uuid()),this.lastRowUuid=this.row.__uuid__),this.lastColumnUuid=this.column.__uuid__},e.prototype.ngDoCheck=function(){this.lastColumnUuid!==this.column.__uuid__?this.changeDetectorRef.markForCheck():"object"==typeof this.row&&this.lastRowUuid!==this.row.__uuid__&&this.changeDetectorRef.markForCheck()},e}();o([i.Input(),r("design:type",Object)],u.prototype,"row",void 0),o([i.Input(),r("design:type",Number)],u.prototype,"index",void 0),o([i.Input(),r("design:type",l.OurpalmTable)],u.prototype,"table",void 0),o([i.Input(),r("design:type",a.OurpalmTableColumn)],u.prototype,"column",void 0),u=o([i.Component({selector:"ourpalm-table-columnTemplateRenderer",changeDetection:i.ChangeDetectionStrategy.OnPush,template:'\n        \x3c!-- 排序列 --\x3e\n        <ng-container *ngIf="column.sort">\n            <ng-template [ngTemplateOutlet]="column.template"\n                         [ngOutletContext]="{\'$implicit\': column, \'$row\': row}"></ng-template>\n        </ng-container>\n        \x3c!-- checkbox列 --\x3e\n        <ng-container *ngIf="column.checkbox">\n            <input type="checkbox" [(ngModel)]="row.__checked__" (change)="onCheckBoxChange($event)"\n                   (click)="onClickCheckBox($event)">\n        </ng-container>\n        \x3c!-- 序号列 --\x3e\n        <ng-container *ngIf="column.rownumbers">\n            {{index + 1}}\n        </ng-container>\n        \x3c!-- 正常列 --\x3e\n        <ng-container *ngIf="!column.sort && !column.checkbox && !column.rownumbers">\n            <ng-template [ngTemplateOutlet]="column.template"\n                         [ngOutletContext]="{\'$implicit\': column, \'$row\': row}"></ng-template>\n        </ng-container>\n    '}),r("design:paramtypes",[i.ChangeDetectorRef])],u),t.OurpalmTableColumnTemplateRenderer=u},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(24),l=n(11),c=function(){function e(e,t){this.changeDetectorRef=e,this.renderer=t}return Object.defineProperty(e.prototype,"menus",{get:function(){return this._menus},set:function(e){var t=this;e&&(this._menus=e.map(function(e){return t.deepCloneMenu(e)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styler",{get:function(){return this._styler},set:function(e){this._styler=e,e&&"none"==e.display?this.removeListener():e&&"block"==e.display&&this.addListener()},enumerable:!0,configurable:!0}),e.prototype.addListener=function(){var e=this;this.menus&&(this.clickListen||(this.clickListen=this.renderer.listen(document,"click",function(t){e.styler={display:"none"},e.changeDetectorRef.markForCheck()})),this.contextMenuListen||(this.contextMenuListen=this.renderer.listen(document,"contextmenu",function(t){e.rowComponent.el.nativeElement.contains(t.target)||(e.styler={display:"none"},e.changeDetectorRef.markForCheck())})))},e.prototype.removeListener=function(){this.clickListen&&(this.clickListen(),this.clickListen=null),this.contextMenuListen&&(this.contextMenuListen(),this.contextMenuListen=null)},e.prototype.onClickMenu=function(e){this.styler={display:"none"},e.onclick&&e.onclick()},e.prototype.showMenu=function(e){return"function"==typeof e.show?e.show():e.show},e.prototype.deepCloneMenu=function(e){var t=this;return e.submenus&&(e.submenus=e.submenus.map(function(e){return t.deepCloneMenu(e)})),new a.RowContextMenu(e)},e}();o([i.Input(),r("design:type",l.OurpalmTableRowComponent)],c.prototype,"rowComponent",void 0),o([i.Input("menus"),r("design:type",Array),r("design:paramtypes",[Array])],c.prototype,"menus",null),o([i.Input(),r("design:type",Object),r("design:paramtypes",[Object])],c.prototype,"styler",null),c=o([i.Component({selector:"ourpalm-table-row-context-menu",changeDetection:i.ChangeDetectionStrategy.OnPush,styles:[n(49)],template:'\n        <ng-template #menusTpl let-menus>\n            <ul class="dropdown-menu">\n                <ng-container *simpleNgFor="let menu of menus">\n                    <ng-container *ngIf="menu.separator">\n                        <li class="divider" [class.hidden]="!showMenu(menu)"></li>\n                    </ng-container>\n                    <ng-container *ngIf="!menu.separator && !menu.submenus">\n                        <li (click)="onClickMenu(menu)" [class.hidden]="!showMenu(menu)">\n                            <a><i [ngClass]="menu.iconCls || \'empty-icon\'"></i>{{ menu.text }}</a>\n                        </li>\n                    </ng-container>\n                    <ng-container *ngIf="menu.submenus">\n                        <li class="dropdown-submenu" [class.hidden]="!showMenu(menu)">\n                            <a tabindex="-1"><i [ngClass]="menu.iconCls || \'empty-icon\'"></i>{{ menu.text }}</a>\n                            <ng-container *ngTemplateOutlet="menusTpl;context:{$implicit: menu.submenus}">\n                            </ng-container>\n                        </li>\n                    </ng-container>\n                </ng-container>\n            </ul>\n        </ng-template>\n\n\n        <div class="row-context-menu" *ngIf="menus" [ngStyle]="styler">\n            <ng-container *ngTemplateOutlet="menusTpl; context:{ $implicit: menus }"></ng-container>\n        </div>\n    '}),r("design:paramtypes",[i.ChangeDetectorRef,i.Renderer2])],c),t.RowContextMenuComponent=c},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(0),a=n(8),l=n(7),c=function(){function e(e,t){this.el=e,this.dragulaService=t,this.container=e.nativeElement}return e.prototype.ngOnInit=function(){var e=this,t=this.dragulaService.find(this.dragula),n=function(){e.dragulaModel&&(e.drake.models?e.drake.models.push(e.dragulaModel):e.drake.models=[e.dragulaModel])};t?(this.drake=t.drake,n(),this.drake.containers.push(this.container)):(this.drake=l.dragula([this.container],Object.assign({},this.dragulaOptions)),n(),this.dragulaService.add(this.dragula,this.drake))},e.prototype.ngOnChanges=function(e){if(e&&e.dragulaModel&&this.drake)if(this.drake.models){var t=this.drake.models.indexOf(e.dragulaModel.previousValue);this.drake.models.splice(t,1,e.dragulaModel.currentValue)}else this.drake.models=[e.dragulaModel.currentValue]},e}();o([i.Input(),r("design:type",String)],c.prototype,"dragula",void 0),o([i.Input(),r("design:type",Object)],c.prototype,"dragulaModel",void 0),o([i.Input(),r("design:type",Object)],c.prototype,"dragulaOptions",void 0),c=o([i.Directive({selector:"[dragula]"}),r("design:paramtypes",[i.ElementRef,a.DragulaService])],c),t.DragulaDirective=c},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(50),a=n(5),l=n(19),c=n(51),s=n(20),u=n(18),p=n(12),f=n(21),d=n(39),h=n(11),m=n(17),g=n(10),b=n(9),v=n(13),y=n(22),w=_=function(){function e(){}return e.forRoot=function(){return{ngModule:_,providers:[g.TableConfig]}},e}();w=_=o([r.NgModule({imports:[i.CommonModule,c.FormsModule,d.DragulaModule],declarations:[a.OurpalmTableComponent,u.OurpalmTableDynamicColumnComponent,p.OurpalmTableStaticColumnComponent,l.OurpalmTableHeaderComponent,f.OurpalmTableSettingsComponent,h.OurpalmTableRowComponent,v.RowContextMenuComponent,m.DynamicEventDirective,s.OurpalmTablePagingComponent,p.OurpalmTableColumnTemplateRenderer,f.ColumnSettingsLeftFilter,f.ColumnSettingsRightFilter,b.SafeHtmlPipe,y.SimpleNgFor],exports:[a.OurpalmTableComponent,p.OurpalmTableStaticColumnComponent,b.SafeHtmlPipe,y.SimpleNgFor],providers:[],entryComponents:[v.RowContextMenuComponent]})],w),t.OurpalmTableModule=w;var _},function(e,t){e.exports=function(e,t){return Array.prototype.slice.call(e,t)}},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(){function e(e,t){this.el=e,this.renderer=t,this.listenClickEvent=!1,this.listenDbClickEvent=!1,this.listenContextMenuEvent=!1,this.onClick=new i.EventEmitter,this.onDbClick=new i.EventEmitter,this.onContextMenu=new i.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this.listenClickEvent&&this.renderer.listen(this.el.nativeElement,"click",function(t){e.onClick.emit(t)}),this.listenDbClickEvent&&this.renderer.listen(this.el.nativeElement,"dblclick",function(t){e.onDbClick.emit(t)}),this.listenContextMenuEvent&&this.renderer.listen(this.el.nativeElement,"contextmenu",function(t){e.onContextMenu.emit(t)})},e.prototype.ngOnDestroy=function(){},e}();o([i.Input(),r("design:type",Boolean)],a.prototype,"listenClickEvent",void 0),o([i.Input(),r("design:type",Boolean)],a.prototype,"listenDbClickEvent",void 0),o([i.Input(),r("design:type",Boolean)],a.prototype,"listenContextMenuEvent",void 0),o([i.Output(),r("design:type",i.EventEmitter)],a.prototype,"onClick",void 0),o([i.Output(),r("design:type",i.EventEmitter)],a.prototype,"onDbClick",void 0),o([i.Output(),r("design:type",i.EventEmitter)],a.prototype,"onContextMenu",void 0),a=o([i.Directive({selector:"[dynamic-event-directive]"}),r("design:paramtypes",[i.ElementRef,i.Renderer2])],a),t.DynamicEventDirective=a},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(6),l=n(1),c=n(3),s=function(){function e(e){this.changeDetectorRef=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this.column.formatter?this.column.formatter(this.row[this.column.field],this.row):this.row[this.column.field]},enumerable:!0,configurable:!0}),e.prototype.onClickCheckBox=function(e){e.stopPropagation()},e.prototype.onCheckBoxChange=function(e){var t=this;e.stopPropagation(),this.row.__checked__&&this.table.singleSelect&&this.table.rows.forEach(function(e){e!==t.row&&(e.__checked__=!1)}),this.table.checkOnSelect&&(this.row.__selected__=!!this.row.__checked__),this.table.onRowCheckBoxChange&&this.table.onRowCheckBoxChange(this.row,this.index)},e.prototype.ngOnChanges=function(){"object"==typeof this.row&&(this.row.__uuid__||(this.row.__uuid__=c.uuid()),this.lastRowUuid=this.row.__uuid__),this.lastColumnUuid=this.column.__uuid__},e.prototype.ngDoCheck=function(){this.lastColumnUuid!==this.column.__uuid__?this.changeDetectorRef.markForCheck():"object"==typeof this.row&&this.lastRowUuid!==this.row.__uuid__&&this.changeDetectorRef.markForCheck()},e}();o([i.Input(),r("design:type",Object)],s.prototype,"row",void 0),o([i.Input(),r("design:type",Number)],s.prototype,"index",void 0),o([i.Input(),r("design:type",l.OurpalmTable)],s.prototype,"table",void 0),o([i.Input(),r("design:type",a.OurpalmTableColumn)],s.prototype,"column",void 0),s=o([i.Component({selector:"[ourpalm-table-dynamic-column]",changeDetection:i.ChangeDetectionStrategy.OnPush,template:'\n        \x3c!-- 隐藏列 --\x3e\n        <ng-container [class.hidden]="!column.show">\n            \x3c!-- 排序列 --\x3e\n            <ng-container *ngIf="column.sort">\n                <span [innerHTML]="value | safeHtml"></span>\n            </ng-container>\n            \x3c!-- checkbox列 --\x3e\n            <ng-container *ngIf="column.checkbox">\n                <input type="checkbox" [(ngModel)]="row.__checked__" (change)="onCheckBoxChange($event)"\n                       (click)="onClickCheckBox($event)">\n            </ng-container>\n            \x3c!-- 序号列 --\x3e\n            <ng-container *ngIf="column.rownumbers">\n                {{index + 1}}\n            </ng-container>\n            \x3c!-- 正常列 --\x3e\n            <ng-container *ngIf="!column.sort && !column.checkbox && !column.rownumbers">\n                <span [innerHTML]="value | safeHtml"></span>\n            </ng-container>\n        </ng-container>\n    '}),r("design:paramtypes",[i.ChangeDetectorRef])],s),t.OurpalmTableDynamicColumnComponent=s},function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=n(1),c=function(){function e(){this.checkAll=!1}return e.prototype.ngOnInit=function(){},e.prototype.onCheckBoxChange=function(){var e=this;this.table.singleSelect?this.checkAll||(this.table.rows=this.table.rows.map(function(e){return o({},e,{__checked__:!1})})):this.table.rows=this.table.rows.map(function(t){return o({},t,{__checked__:e.checkAll})}),this.table.checkOnSelect&&(this.table.rows=this.table.rows.map(function(e){return e.__checked__!=e.__selected__?o({},e,{__selected__:!!e.__checked__}):e})),this.table.onHeaderCheckBoxChange&&this.table.onHeaderCheckBoxChange()},e.prototype.sortColumn=function(e){switch(e.sortOrder){case"asc":e.sortOrder="desc";break;case"desc":default:e.sortOrder="asc"}this.table.serverSort?this.table.invokeLoadData():(this.table.rows.sort(function(t,n){switch(e.sortOrder){case"asc":return e.sorter(e,t,n);case"desc":default:return-e.sorter(e,t,n)}}),this.table.rows=this.table.rows.slice())},e}();r([a.Input(),i("design:type",l.OurpalmTable)],c.prototype,"table",void 0),r([a.Input(),i("design:type",Array)],c.prototype,"columns",void 0),c=r([a.Component({selector:"[ourpalm-table-header]",styles:[n(44)],changeDetection:a.ChangeDetectionStrategy.OnPush,template:'\n        <th *ngFor="let column of columns; let i = index" [class.hidden]="!column.show">\x3c!-- 隐藏列 --\x3e\n            \x3c!-- 排序列 --\x3e\n            <span *ngIf="column.sort" (click)="sortColumn(column)">\n                {{column.header}}\n                <i class="fa"\n                   [ngClass]="{\'fa-sort-asc\': column.sortOrder == \'asc\', \'fa-sort-desc\': column.sortOrder == \'desc\', \'fa-sort\': !column.sortOrder}"></i>\n            </span>\n            \x3c!-- checkbox列 --\x3e\n            <ng-container *ngIf="column.checkbox">\n                <input type="checkbox" [(ngModel)]="checkAll" (change)="onCheckBoxChange()">\n            </ng-container>\n            \x3c!-- 序号列 --\x3e\n            <ng-container *ngIf="column.rownumbers">\n                {{column.header}}\n            </ng-container>\n            \x3c!-- 正常列 --\x3e\n            <ng-container *ngIf="!column.sort && !column.checkbox && !column.rownumbers">\n                {{column.header}}\n            </ng-container>\n        </th>\n    '})],c),t.OurpalmTableHeaderComponent=c},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(1),l=n(5),c=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.changePageSize=function(){this.table.changePageSize(+this.table.pageSize),this.saveCachePageSize()},e.prototype.saveCachePageSize=function(){this.table.cacheKey&&this.table.cachePageSize&&window.localStorage&&window.localStorage.setItem("ngx-ourpalm-table-"+this.table.cacheKey+"-pagesize",""+this.table.pageSize)},e.prototype.firstPage=function(){this.table.firstPage()},e.prototype.prePage=function(){this.table.prePage()},e.prototype.nextPage=function(){this.table.nextPage()},e.prototype.lastPage=function(){this.table.lastPage()},e.prototype.refresh=function(){this.table.refresh()},e.prototype.focusout=function(){this.table.tmpCurrentPage=this.table.currentPage},e.prototype.keyEnterEvent=function(e){13==e.keyCode&&this.table.skipPage&&this.table.tmpCurrentPage&&this.table.tmpCurrentPage>=1&&this.table.tmpCurrentPage<=this.table.allPage&&this.table.gotoSkipPage(this.table.tmpCurrentPage)},e}();o([i.Input(),r("design:type",a.OurpalmTable)],c.prototype,"table",void 0),o([i.Input(),r("design:type",l.OurpalmTableComponent)],c.prototype,"tableComponent",void 0),c=o([i.Component({selector:"[ourpalm-table-paging]",styles:[n(45)],template:'\n        <td *ngIf="table.pagination" [attr.colspan]="table.columns.length">\n            <span class="page-left">\n                <select class="form-control input-sm" [(ngModel)]="table.pageSize" (change)="changePageSize()">\n                    <option *simpleNgFor="let val of table.pageList" [value]="val">{{val}}</option>\n                </select>\n                <button class="glyphicon glyphicon-step-backward ourpalm-table-pager" (click)="firstPage()"\n                        [disabled]="table.currentPage <= 1"></button>\n                <button class="glyphicon glyphicon-backward ourpalm-table-pager" (click)="prePage()"\n                        [disabled]="table.currentPage <= 1"></button>\n                第\n                <input type="number" [(ngModel)]="table.tmpCurrentPage" min="1" max="{{table.allPage}}"\n                       (focusout)="focusout()" (keydown)="keyEnterEvent($event)" [readonly]="!table.skipPage"\n                       class="form-control input-sm">\n                页,共{{table.allPage}}页\n                <button class="glyphicon glyphicon-forward ourpalm-table-pager" (click)="nextPage()"\n                        [disabled]="table.currentPage == table.allPage || table.allPage == 0"></button>\n                <button class="glyphicon glyphicon-step-forward ourpalm-table-pager" (click)="lastPage()"\n                        [disabled]="table.currentPage == table.allPage || table.allPage == 0"></button>\n                <button *ngIf="table.showRefreshBtn" class="glyphicon glyphicon-refresh ourpalm-table-pager"\n                        (click)="refresh()"></button>\n                <button *ngIf="table.showSettingBtn" class="glyphicon glyphicon-cog ourpalm-table-pager"\n                        (click)="table.openSetting()"></button>\n            </span>\n            <span class="page-right">显示{{table.start}}-{{table.end}}条记录,共{{table.total}}条记录</span>\n\n            <div *ngIf="table?.openSettings">\n                <ourpalm-table-settings [table]="table"\n                                        [tableComponent]="tableComponent"\n                                        [columns]="table.columns">\n                </ourpalm-table-settings>\n            </div>\n        </td>\n    '})],c),t.OurpalmTablePagingComponent=c},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(1),l=n(5),c=n(3),s=function(){function e(e){this.ngZone=e,this.columns=[],this.tempcolumns=[],this.lcolumns=[],this.rcolumns=[]}return e.prototype.ngOnInit=function(){this.tempcolumns=this.columns.map(function(e){return Object.assign({},e)}).slice(),this.lcolumns=this.tempcolumns.filter(function(e){return!e.show}).slice(),this.rcolumns=this.tempcolumns.filter(function(e){return e.show}).slice()},e.prototype.showColumn=function(){this.lcolumns.filter(function(e){return e.__lshow__}).forEach(function(e){e.show=!0,delete e.__lshow__,delete e.__rshow__}),this.lcolumns=this.tempcolumns.filter(function(e){return!e.show}).slice(),this.rcolumns=this.tempcolumns.filter(function(e){return e.show}).slice()},e.prototype.hideColumn=function(){this.rcolumns.filter(function(e){return e.__rshow__}).forEach(function(e){e.show=!1,delete e.__lshow__,delete e.__rshow__}),this.lcolumns=this.tempcolumns.filter(function(e){return!e.show}).slice(),this.rcolumns=this.tempcolumns.filter(function(e){return e.show}).slice()},e.prototype.resetColumn=function(){this.tempcolumns=this.table.__columns.map(function(e){return Object.assign({},e)}).slice(),this.lcolumns=this.tempcolumns.filter(function(e){return!e.show}).slice(),this.rcolumns=this.tempcolumns.filter(function(e){return e.show}).slice()},e.prototype.saveColumn=function(){var e=this;this.close(),this.ngZone.runOutsideAngular(function(){setTimeout(function(){e.ngZone.run(function(){for(var t=e.rcolumns.concat(e.lcolumns).map(function(e){return delete e.__lshow__,delete e.__rshow__,Object.assign({},e)}),n=[],o=0;o<t.length;o++){var r=e.table.columns[o],i=t[o];if(r.field===i.field)r.show!=i.show&&(r.show=i.show,r.__uuid__=c.uuid()),n.push(r);else{var a=e.getTableColumn(i.field);a.show=i.show,a.__uuid__=c.uuid(),n.push(a)}}if(e.table.columns=n,e.table.cacheKey&&e.table.cacheColumns&&window.localStorage){var l=[];e.table.columns.forEach(function(e){l.push({field:e.field,show:e.show})}),window.localStorage.setItem("ngx-ourpalm-table-"+e.table.cacheKey+"-columns",JSON.stringify(l))}e.table.reflowTable()})})})},e.prototype.close=function(){this.table.openSettings=!1},e.prototype.getTableColumn=function(e){for(var t=0;t<this.table.columns.length;t++){var n=this.table.columns[t];if(n.field===e)return n}},e}();o([i.Input(),r("design:type",a.OurpalmTable)],s.prototype,"table",void 0),o([i.Input(),r("design:type",l.OurpalmTableComponent)],s.prototype,"tableComponent",void 0),o([i.Input(),r("design:type",Array)],s.prototype,"columns",void 0),s=o([i.Component({selector:"ourpalm-table-settings",changeDetection:i.ChangeDetectionStrategy.OnPush,styles:[n(47)],template:'\n        <div>\n            <div class="ourpalm-mask"></div>\n            <div class="ourpalm-dialog">\n                <div class="modal-content ourpalm-table-settings">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="close()">\n                            <span aria-hidden="true">&times;</span></button>\n                        <h4 class="modal-title">自定义列表项</h4>\n                    </div>\n                    <div class="modal-body">\n                        <div class="row">\n                            <div class="col-md-5">\n                                <span>备选列</span>\n                                <div class="col-con">\n                                    <input type="text" placeholder="输入值..." [(ngModel)]="lmodel">\n                                    <ul>\n                                        <li *simpleNgFor="let col of lcolumns | lcolumnFilter:lmodel">\n                                            <label>\n                                                <input type="checkbox" [(ngModel)]="col.__lshow__">\n                                                <span>{{col.header}}</span>\n                                            </label>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                            <div class="col-md-2" style="padding:0px;margin:0px;text-align:center;">\n                                <div style="margin-top:130px;margin-bottom:10px;">\n                                    <button type="button" class="btn btn-default btn-sm" (click)="showColumn()">\n                                        <i class="glyphicon glyphicon-arrow-right"></i>\n                                    </button>\n                                </div>\n                                <button type="button" class="btn btn-default btn-sm" (click)="hideColumn()">\n                                    <i class="glyphicon glyphicon-arrow-left"></i>\n                                </button>\n                            </div>\n                            <div class="col-md-5">\n                                <span>已选列</span>\n                                <div class="col-con">\n                                    <input type="text" placeholder="输入值..." [(ngModel)]="rmodel">\n                                    <ul [dragula]="\'setting-columns\'" [dragulaModel]="rcolumns">\n                                        <li *simpleNgFor="let col of rcolumns | rcolumnFilter:rmodel; let i = index;">\n                                            <label>\n                                                <input type="checkbox" [(ngModel)]="col.__rshow__">\n                                                <span>{{col.header}}</span>\n                                            </label>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="row">\n                            <div class="col-md-12">\n                                <div class="btn-group btn-group-sm" style="float:right;">\n                                    <button type="button" class="btn btn-default" (click)="resetColumn()">还原</button>\n                                    <button type="button" class="btn btn-default" (click)="saveColumn()">保存</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    '}),r("design:paramtypes",[i.NgZone])],s),t.OurpalmTableSettingsComponent=s;var u=function(){function e(){}return e.prototype.transform=function(e,t){return t?e.filter(function(e){return e.header.includes(t)}):e},e}();u=o([i.Pipe({name:"lcolumnFilter",pure:!0}),i.Injectable()],u),t.ColumnSettingsLeftFilter=u;var p=function(){function e(){}return e.prototype.transform=function(e,t){return t?e.filter(function(e){return e.header.includes(t)}):e},e}();p=o([i.Pipe({name:"rcolumnFilter",pure:!0}),i.Injectable()],p),t.ColumnSettingsRightFilter=p},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(){function e(e,t){this.$implicit=e,this.index=t}return Object.defineProperty(e.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}();t.SimpleNgForRow=a;var l=function(){function e(e,t){this._viewContainer=e,this._template=t}return Object.defineProperty(e.prototype,"ngForTemplate",{set:function(e){e&&(this._template=e)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){for(var e=this._viewContainer.length,t=this.simpleNgForOf.length,n=Math.min(e,t),o=0;o<n;o++){var r=this.simpleNgForOf[o];this._viewContainer.get(o).context.$implicit=r}for(var o=e;o<t;o++){var r=this.simpleNgForOf[o];this._viewContainer.createEmbeddedView(this._template,new a(r,o))}for(var o=e-1;o>=t;o--)this._viewContainer.remove(o)},e}();o([i.Input(),r("design:type",Array)],l.prototype,"simpleNgForOf",void 0),o([i.Input(),r("design:type",i.TemplateRef),r("design:paramtypes",[i.TemplateRef])],l.prototype,"ngForTemplate",null),l=o([i.Directive({selector:"[simpleNgFor][simpleNgForOf]"}),r("design:paramtypes",[i.ViewContainerRef,i.TemplateRef])],l),t.SimpleNgFor=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15);t.OurpalmTableModule=o.OurpalmTableModule;var r=n(1);t.OurpalmTable=r.OurpalmTable;var i=n(10);t.TableConfig=i.TableConfig;var a=n(6);t.OurpalmTableColumn=a.OurpalmTableColumn;var l=n(9);t.SafeHtmlPipe=l.SafeHtmlPipe;var c=n(5);t.OurpalmTableComponent=c.OurpalmTableComponent},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.separator=!1,this.show=!0,Object.assign(this,e)}return e}();t.RowContextMenu=o},function(e,t,n){"use strict";var o=n(42);e.exports=function(e,t,n){e&&o(function(){e.apply(n||null,t||[])})}},function(e,t,n){"use strict";var o=n(16),r=n(25);e.exports=function(e,t){var n=t||{},i={};return void 0===e&&(e={}),e.on=function(t,n){return i[t]?i[t].push(n):i[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var o=arguments.length;if(1===o)delete i[t];else if(0===o)i={};else{var r=i[t];if(!r)return e;r.splice(r.indexOf(n),1)}return e},e.emit=function(){var t=o(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var a=(i[t]||[]).slice(0);return function(){var i=o(arguments),l=this||e;if("error"===t&&!1!==n.throws&&!a.length)throw 1===i.length?i[0]:i;return a.forEach(function(o){n.async?r(o,i,l):o.apply(l,i),o._once&&e.off(t,o)}),e}},e}},function(e,t,n){(function(t){var n=t.CustomEvent;e.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?n:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(t,n(4))},function(e,t,n){"use strict";(function(t){function o(e,t,n,o){return e.addEventListener(t,n,o)}function r(e,t,n){return e.attachEvent("on"+t,s(e,t,n))}function i(e,t,n,o){return e.removeEventListener(t,n,o)}function a(e,t,n){var o=u(e,t,n);if(o)return e.detachEvent("on"+t,o)}function l(e,t,n){var o=-1===d.indexOf(t)?function(){return new f(t,{detail:n})}():function(){var e;return h.createEvent?(e=h.createEvent("Event"),e.initEvent(t,!0,!0)):h.createEventObject&&(e=h.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+t,o)}function c(e,n,o){return function(n){var r=n||t.event;r.target=r.target||r.srcElement,r.preventDefault=r.preventDefault||function(){r.returnValue=!1},r.stopPropagation=r.stopPropagation||function(){r.cancelBubble=!0},r.which=r.which||r.keyCode,o.call(e,r)}}function s(e,t,n){var o=u(e,t,n)||c(e,t,n);return b.push({wrapper:o,element:e,type:t,fn:n}),o}function u(e,t,n){var o=p(e,t,n);if(o){var r=b[o].wrapper;return b.splice(o,1),r}}function p(e,t,n){var o,r;for(o=0;o<b.length;o++)if(r=b[o],r.element===e&&r.type===t&&r.fn===n)return o}var f=n(27),d=n(29),h=t.document,m=o,g=i,b=[];t.addEventListener||(m=r,g=a),e.exports={add:m,remove:g,fabricate:l}}).call(t,n(4))},function(e,t,n){"use strict";(function(t){var n=[],o="",r=/^on/;for(o in t)r.test(o)&&n.push(o.slice(2));e.exports=n}).call(t,n(4))},function(e,t,n){t=e.exports=n(2)(void 0),t.push([e.i,".fa-sort-asc {\r\n    vertical-align: bottom;\r\n}\r\n\r\n.fa-sort-desc {\r\n    vertical-align: top;\r\n}",""])},function(e,t,n){t=e.exports=n(2)(void 0),t.push([e.i,"td span.page-left {\r\n    float: left;\r\n    text-align: left;\r\n    width: 68%;\r\n}\r\n\r\ntd span.page-left select {\r\n    height: 20px;\r\n    line-height: 20px;\r\n    padding: 0;\r\n    margin-top: -2px;\r\n    max-width: 50px;\r\n    display: inline-block;\r\n}\r\n\r\ntd span.page-right {\r\n    float: right;\r\n    text-align: right;\r\n}\r\n\r\n/*  ourpalm-table-pager */\r\n.ourpalm-table-pager {\r\n    padding: 2px 4px;\r\n    cursor: pointer;\r\n    border: none;\r\n    background-color: inherit;\r\n}\r\n\r\n.ourpalm-table-pager:enabled:hover {\r\n    /*opacity: 0.8;*/\r\n    transform: scale(1.2, 1.2);\r\n}\r\n\r\n.ourpalm-table-pager:disabled {\r\n    opacity: 0.5;\r\n    cursor: default;\r\n}\r\n\r\ninput[type=number] {\r\n    text-align: center;\r\n    height: 20px;\r\n    line-height: 20px;\r\n    padding: 0;\r\n    margin-top: -2px;\r\n    width: auto;\r\n    max-width: 62px;\r\n    min-width: 30px;\r\n    display: inline-block;\r\n}",""])},function(e,t,n){t=e.exports=n(2)(void 0),t.push([e.i,"tr.row-selected {\r\n    background-color: #ffdfff !important;\r\n    /*background-color: #e4e3e3 !important;*/\r\n}",""])},function(e,t,n){t=e.exports=n(2)(void 0),t.push([e.i,'.ourpalm-mask {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 800%;\r\n    top: 0px;\r\n    left: 0px;\r\n    background-color: #000000;\r\n    opacity: 0.3;\r\n    z-index: 2000;\r\n}\r\n\r\n.ourpalm-dialog {\r\n    position: fixed;\r\n    /*width: 30%;*/\r\n    /*height: 30%;*/\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    z-index: 2001;\r\n}\r\n\r\n.ourpalm-table-settings {\r\n    max-width: 800px !important;\r\n    min-width: 600px !important;\r\n}\r\n\r\n.ourpalm-table-settings .modal-body {\r\n    text-align: left;\r\n}\r\n\r\n.ourpalm-table-settings .checkbox-inline {\r\n    width: 25%;\r\n    white-space: nowrap; /* 不换行 */\r\n    overflow: hidden;\r\n}\r\n\r\n.ourpalm-table-settings .checkbox-inline + .checkbox-inline {\r\n    margin-left: 0px;\r\n}\r\n\r\n.col-con {\r\n    border: 1px solid #bbb;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.col-con [type=text] {\r\n    width: 100%;\r\n    border: none;\r\n    padding-top: 2px;\r\n    padding-left: 10px;\r\n    border-bottom: 1px solid #aaa;\r\n}\r\n\r\n.ourpalm-table-settings ul {\r\n    list-style: none;\r\n    height: 300px;\r\n    overflow-y: auto;\r\n    padding: 0px;\r\n}\r\n\r\n.ourpalm-table-settings ul li {\r\n    list-style: none !important;\r\n    padding: 6px 10px;\r\n}\r\n\r\n.ourpalm-table-settings ul li:hover {\r\n    background-color: antiquewhite;\r\n}\r\n\r\n.ourpalm-table-settings ul li label {\r\n    margin-bottom: 0;\r\n    font-weight: normal;\r\n}\r\n\r\n.ourpalm-table-settings ul li label span {\r\n    width: 160px;\r\n    display: inline-block;\r\n}\r\n\r\nli.gu-transit {\r\n    list-style: none !important;\r\n    background-color: antiquewhite;\r\n    opacity: 0.7;\r\n    border: 1px dashed #aaaaaa;\r\n}\r\n\r\n.gu-mirror {\r\n    position: fixed !important;\r\n    list-style: none !important;\r\n    margin: 0 !important;\r\n    z-index: 9999 !important;\r\n    opacity: 0.8;\r\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\r\n    filter: alpha(opacity=80);\r\n}\r\n\r\n.gu-hide {\r\n    display: none !important;\r\n}\r\n\r\n.gu-unselectable {\r\n    -webkit-user-select: none !important;\r\n    -moz-user-select: none !important;\r\n    -ms-user-select: none !important;\r\n    user-select: none !important;\r\n}',""])},function(e,t,n){t=e.exports=n(2)(void 0),t.push([e.i,".ourpalm-table-pageing {\r\n    background-color: #f9f9f9 !important;\r\n}\r\n\r\ntable {\r\n    margin-bottom: 0px;\r\n}\r\n\r\nthead tr {\r\n    background-color: #eceaea;\r\n}\r\n\r\ntable /deep/ tr td, table /deep/ tr th {\r\n    max-width: 400px !important;\r\n    word-break: keep-all; /* 不换行 */\r\n    white-space: nowrap; /* 不换行 */\r\n    overflow: hidden;\r\n    text-overflow: ellipsis; /*省略号*/\r\n}",""])},function(e,t,n){t=e.exports=n(2)(void 0),t.push([e.i,'/** 多级菜单样式开始 */\r\n.dropdown-submenu {\r\n    position: relative;\r\n}\r\n\r\n.dropdown-submenu > .dropdown-menu {\r\n    top: 0;\r\n    left: 100%;\r\n    margin-top: -6px;\r\n    margin-left: -1px;\r\n    -webkit-border-radius: 0 6px 6px 6px;\r\n    -moz-border-radius: 0 6px 6px;\r\n    border-radius: 0 6px 6px 6px;\r\n}\r\n\r\n.dropdown-submenu:hover > .dropdown-menu {\r\n    display: block;\r\n}\r\n\r\n.dropdown-submenu > a:after {\r\n    display: block;\r\n    content: " ";\r\n    float: right;\r\n    width: 0;\r\n    height: 0;\r\n    border-color: transparent;\r\n    border-style: solid;\r\n    border-width: 5px 0 5px 5px;\r\n    border-left-color: #ccc;\r\n    margin-top: 5px;\r\n    margin-right: -10px;\r\n}\r\n\r\n.dropdown-submenu:hover > a:after {\r\n    border-left-color: #fff;\r\n}\r\n\r\n.dropdown-submenu.pull-left {\r\n    float: none;\r\n}\r\n\r\n.dropdown-submenu.pull-left > .dropdown-menu {\r\n    left: -100%;\r\n    margin-left: 10px;\r\n    -webkit-border-radius: 6px 0 6px 6px;\r\n    -moz-border-radius: 6px 0 6px 6px;\r\n    border-radius: 6px 0 6px 6px;\r\n}\r\n\r\n.dropdown-menu > li > a {\r\n    padding: 3px 20px 3px 10px;\r\n}\r\n/** 多级菜单样式 结束 */\r\n\r\n\r\n.row-context-menu {\r\n    display: none;\r\n}\r\n\r\n.row-context-menu > .dropdown-menu {\r\n    display: block;\r\n}\r\n\r\n.row-context-menu .empty-icon {\r\n    display: inline-block;\r\n    width: 23px;\r\n}\r\n\r\n\r\n',""])},function(e,t,n){"use strict";function o(e){var t=a[e];return t?t.lastIndex=0:a[e]=t=new RegExp(l+e+c,"g"),t}function r(e,t){var n=e.className;n.length?o(t).test(n)||(e.className+=" "+t):e.className=t}function i(e,t){e.className=e.className.replace(o(t)," ").trim()}var a={},l="(?:^|\\s)",c="(?:\\s|$)";e.exports={add:r,rm:i}},function(e,t,n){"use strict";(function(t){function o(e,t){function n(e){return-1!==se.containers.indexOf(e)||ce.isContainer(e)}function o(e){var t=e?"remove":"add";r(x,t,"mousedown",O),r(x,t,"mouseup",I)}function l(e){r(x,e?"remove":"add","mousemove",R)}function m(e){var t=e?"remove":"add";w[t](x,"selectstart",k),w[t](x,"click",k)}function b(){o(!0),I({})}function k(e){ae&&e.preventDefault()}function O(e){if(ee=e.clientX,te=e.clientY,!(1!==i(e)||e.metaKey||e.ctrlKey)){var t=e.target,n=P(t);n&&(ae=n,l(),"mousedown"===e.type&&(h(t)?t.focus():e.preventDefault()))}}function R(e){if(ae){if(0===i(e))return void I({});if(void 0===e.clientX||e.clientX!==ee||void 0===e.clientY||e.clientY!==te){if(ce.ignoreInputTextSelection){var t=v("clientX",e),n=v("clientY",e);if(h(C.elementFromPoint(t,n)))return}var o=ae;l(!0),m(),D(),j(o);var r=a(Q);G=v("pageX",e)-r.left,W=v("pageY",e)-r.top,_.add(re||Q,"gu-transit"),U(),$(e)}}}function P(e){if(!(se.dragging&&J||n(e))){for(var t=e;d(e)&&!1===n(d(e));){if(ce.invalid(e,t))return;if(!(e=d(e)))return}var o=d(e);if(o&&!ce.invalid(e,t)){if(ce.moves(e,o,t,g(e)))return{item:e,source:o}}}}function S(e){return!!P(e)}function T(e){var t=P(e);t&&j(t)}function j(e){q(e.item,e.source)&&(re=e.item.cloneNode(!0),se.emit("cloned",re,e.item,"copy")),Z=e.source,Q=e.item,ne=oe=g(e.item),se.dragging=!0,se.emit("drag",Q,Z)}function M(){return!1}function D(){if(se.dragging){var e=re||Q;F(e,d(e))}}function E(){ae=!1,l(!0),m(!0)}function I(e){if(E(),se.dragging){var t=re||Q,n=v("clientX",e),o=v("clientY",e),r=c(J,n,o),i=A(r,n,o);i&&(re&&ce.copySortSource||!re||i!==Z)?F(t,i):ce.removeOnSpill?L():N()}}function F(e,t){var n=d(e);re&&ce.copySortSource&&t===Z&&n.removeChild(Q),B(t)?se.emit("cancel",e,Z,Z):se.emit("drop",e,t,Z,oe),z()}function L(){if(se.dragging){var e=re||Q,t=d(e);t&&t.removeChild(e),se.emit(re?"cancel":"remove",e,t,Z),z()}}function N(e){if(se.dragging){var t=arguments.length>0?e:ce.revertOnSpill,n=re||Q,o=d(n),r=B(o);!1===r&&t&&(re?o&&o.removeChild(re):Z.insertBefore(n,ne)),r||t?se.emit("cancel",n,Z,Z):se.emit("drop",n,o,Z,oe),z()}}function z(){var e=re||Q;E(),V(),e&&_.rm(e,"gu-transit"),ie&&clearTimeout(ie),se.dragging=!1,le&&se.emit("out",e,le,Z),se.emit("dragend",e),Z=Q=re=ne=oe=ie=le=null}function B(e,t){var n;return n=void 0!==t?t:J?oe:g(re||Q),e===Z&&n===ne}function A(e,t,o){for(var r=e;r&&!function(){if(!1===n(r))return!1;var i=X(r,e),a=Y(r,i,t,o);return!!B(r,a)||ce.accepts(Q,r,Z,a)}();)r=d(r);return r}function $(e){function t(e){se.emit(e,a,le,Z)}if(J){e.preventDefault();var n=v("clientX",e),o=v("clientY",e),r=n-G,i=o-W;J.style.left=r+"px",J.style.top=i+"px";var a=re||Q,l=c(J,n,o),s=A(l,n,o),u=null!==s&&s!==le;(u||null===s)&&(function(){le&&t("out")}(),le=s,function(){u&&t("over")}());var p=d(a);if(s===Z&&re&&!ce.copySortSource)return void(p&&p.removeChild(a));var f,h=X(s,l);if(null!==h)f=Y(s,h,n,o);else{if(!0!==ce.revertOnSpill||re)return void(re&&p&&p.removeChild(a));f=ne,s=Z}(null===f&&u||f!==a&&f!==g(a))&&(oe=f,s.insertBefore(a,f),se.emit("shadow",a,s,Z))}}function H(e){_.rm(e,"gu-hide")}function K(e){se.dragging&&_.add(e,"gu-hide")}function U(){if(!J){var e=Q.getBoundingClientRect();J=Q.cloneNode(!0),J.style.width=p(e)+"px",J.style.height=f(e)+"px",_.rm(J,"gu-transit"),_.add(J,"gu-mirror"),ce.mirrorContainer.appendChild(J),r(x,"add","mousemove",$),_.add(ce.mirrorContainer,"gu-unselectable"),se.emit("cloned",J,Q,"mirror")}}function V(){J&&(_.rm(ce.mirrorContainer,"gu-unselectable"),r(x,"remove","mousemove",$),d(J).removeChild(J),J=null)}function X(e,t){for(var n=t;n!==e&&d(n)!==e;)n=d(n);return n===x?null:n}function Y(e,t,n,o){function r(e){return e?g(t):t}var i="horizontal"===ce.direction;return t!==e?function(){var e=t.getBoundingClientRect();return r(i?n>e.left+p(e)/2:o>e.top+f(e)/2)}():function(){var t,r,a,l=e.children.length;for(t=0;t<l;t++){if(r=e.children[t],a=r.getBoundingClientRect(),i&&a.left+a.width/2>n)return r;if(!i&&a.top+a.height/2>o)return r}return null}()}function q(e,t){return"boolean"==typeof ce.copy?ce.copy:ce.copy(e,t)}1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var J,Z,Q,G,W,ee,te,ne,oe,re,ie,ae,le=null,ce=t||{};void 0===ce.moves&&(ce.moves=u),void 0===ce.accepts&&(ce.accepts=u),void 0===ce.invalid&&(ce.invalid=M),void 0===ce.containers&&(ce.containers=e||[]),void 0===ce.isContainer&&(ce.isContainer=s),void 0===ce.copy&&(ce.copy=!1),void 0===ce.copySortSource&&(ce.copySortSource=!1),void 0===ce.revertOnSpill&&(ce.revertOnSpill=!1),void 0===ce.removeOnSpill&&(ce.removeOnSpill=!1),void 0===ce.direction&&(ce.direction="vertical"),void 0===ce.ignoreInputTextSelection&&(ce.ignoreInputTextSelection=!0),void 0===ce.mirrorContainer&&(ce.mirrorContainer=C.body);var se=y({containers:ce.containers,start:T,end:D,cancel:N,remove:L,destroy:b,canMove:S,dragging:!1});return!0===ce.removeOnSpill&&se.on("over",H).on("out",K),o(),se}function r(e,n,o,r){var i={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},a={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},l={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};t.navigator.pointerEnabled?w[n](e,a[o],r):t.navigator.msPointerEnabled?w[n](e,l[o],r):(w[n](e,i[o],r),w[n](e,o,r))}function i(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function a(e){var t=e.getBoundingClientRect();return{left:t.left+l("scrollLeft","pageXOffset"),top:t.top+l("scrollTop","pageYOffset")}}function l(e,n){return void 0!==t[n]?t[n]:x.clientHeight?x[e]:C.body[e]}function c(e,t,n){var o,r=e||{},i=r.className;return r.className+=" gu-hide",o=C.elementFromPoint(t,n),r.className=i,o}function s(){return!1}function u(){return!0}function p(e){return e.width||e.right-e.left}function f(e){return e.height||e.bottom-e.top}function d(e){return e.parentNode===C?null:e.parentNode}function h(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||m(e)}function m(e){return!!e&&("false"!==e.contentEditable&&("true"===e.contentEditable||m(d(e))))}function g(e){return e.nextElementSibling||function(){var t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t}()}function b(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}function v(e,t){var n=b(t),o={pageX:"clientX",pageY:"clientY"};return e in o&&!(e in n)&&o[e]in n&&(e=o[e]),n[e]}var y=n(26),w=n(28),_=n(36),C=document,x=C.documentElement;e.exports=o}).call(t,n(4))},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=n(0),i=n(14),a=n(8),l=function(){function e(){}return e}();l=o([r.NgModule({exports:[i.DragulaDirective],declarations:[i.DragulaDirective],providers:[a.DragulaService]})],l),t.DragulaModule=l},function(e,t,n){"use strict";var o=n(7);t.dragula=o.dragula;var r=n(14);t.DragulaDirective=r.DragulaDirective;var i=n(8);t.DragulaService=i.DragulaService;var a=n(38);t.DragulaModule=a.DragulaModule},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(p===clearTimeout)return clearTimeout(e);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){m&&d&&(m=!1,d.length?h=d.concat(h):g=-1,h.length&&l())}function l(){if(!m){var e=r(a);m=!0;for(var t=h.length;t;){for(d=h,h=[];++g<t;)d&&d[g].run();g=-1,t=h.length}d=null,m=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function s(){}var u,p,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(e){p=o}}();var d,h=[],m=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||m||r(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=s,f.addListener=s,f.once=s,f.off=s,f.removeListener=s,f.removeAllListeners=s,f.emit=s,f.prependListener=s,f.prependOnceListener=s,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function o(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return s[c]=o,l(c),c++}function r(e){delete s[e]}function i(e){var t=e.callback,o=e.args;switch(o.length){case 0:t();break;case 1:t(o[0]);break;case 2:t(o[0],o[1]);break;case 3:t(o[0],o[1],o[2]);break;default:t.apply(n,o)}}function a(e){if(u)setTimeout(a,0,e);else{var t=s[e];if(t){u=!0;try{i(t)}finally{r(e),u=!1}}}}if(!e.setImmediate){var l,c=1,s={},u=!1,p=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){l=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),l=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},l=function(t){e.port2.postMessage(t)}}():p&&"onreadystatechange"in p.createElement("script")?function(){var e=p.documentElement;l=function(t){var n=p.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){l=function(e){setTimeout(a,0,e)}}(),f.setImmediate=o,f.clearImmediate=r}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(4),n(40))},function(e,t,n){(function(t){var n,o="function"==typeof t;n=o?function(e){t(e)}:function(e){setTimeout(e,0)},e.exports=n}).call(t,n(43).setImmediate)},function(e,t,n){function o(e,t){this._id=e,this._clearFn=t}var r=Function.prototype.apply;t.setTimeout=function(){return new o(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(41),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){var o=n(30);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(31);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(32);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(33);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(34);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(35);e.exports="string"==typeof o?o:o.toString()},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=o}])});
//# sourceMappingURL=index.umd.min.js.map